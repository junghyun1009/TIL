# 2022-03-02

# Django 

: python 언어 기반 web framework



## Static web page

- 서버에 미리 저장된 파일이 사용자에게 그대로 전달되는 웹 페이지

- **클라이언트** ------**요청**-----> **서버**

  **클라이언트** <-----**응답**----- **서버**

  클라이언트 : 응용프로그램에 접속할 수 있는 것 (웹 브라우저(크롬..))

  서버 : 클라이언트에게 정보나 서비스를 제공하는 컴퓨터 시스템 (장고)

  요청 : "네이버 메인페이지를 줘!"

  응답 : "네이버의 html을 전달하여 웹 브라우저가 해석할 수 있게"

- 서버가 정적 웹 페이지에 대한 요청을 받은 경우 서버는 추가적인 처리 과정 없이 클라이언트에게 응답을 보냄
- 모든 상황에서 모든 사용자에게 동일한 정보를 표시



## Dynamic web page

- 서버는 추가적인 처리 과정 이후 클라이언트에게 응답을 보냄
- 방문자와 상호작용하기 때문에 페이지 내용은 그때그때 다름
- 서버 사이드 프로그래밍 언어 사용



## Framework

- 개발 환경, 툴 제공
- 특정 운영 체제를 위한 응용 프로그램 표준 구조를 구현하는 클래스와 라이브러리 모임
- 재사용할 수 있는 수많은 코드를 프레임워크로 통합



## Web Framework

- 웹 페이지를 개발하는 과정에서 어려움을 줄이기 위한 framework



## Framework Architecture

- MVC design pattern
- 사용자 인터페이스로부터 프로그램 로직을 분리하여 애플리케이션의 시각적 요소나 이면에서 실행되는 부분을 서로 영향 없이 쉽게 고칠 수 있도록
- 장고는 MTV pattern이라고 함



## MTV pattern

- Model (=DB)
  - 응용프로그램의 데이터 구조를 정의하고 데이터베이스의 기록을 관리
-  Template (MVC 디자인패턴에서는 View) (=HTML, 웹페이지)
  - 파일의 구조나 레이아웃을 정의
  - 실제 내용을 보여주는 데 사용
- View (MVC 디자인패턴에서는 Controller)
  - 조작, 가공




## 장고 프로젝트 생성 및 확인

1. 가상환경 생성 및 활성화 `python -m venv venv` `source venv/Scripts/activate`
2. django 설치 `pip install django==3.2.10`
3. 프로젝트 생성
4. 서버 켜서 로켓 확인하기 `python manage.py runserver` 
4.  서버 끌 땐 ctrl + c



## 프로젝트 구조

- _ _ init _ _.py : 파이썬 모듈인걸 인식하게 해줌
- asgi.py
- settings.py : 모든 설정
- urls.py : 사이트의 url과 적절한 views의 연결을 지정
  - urls과 또 다른 urls 파일을 연결할 수 도 있음 

- wsgi.py
- manage.py : 장고 프로젝트와 다양한 방법으로 상호작용하는 커맨드라인 유틸리티



## 프로젝트와 애플리케이션

### 프로젝트

- 프로젝트에는 여러 앱이 포함될 수 있음

### 애플리케이션

- 프로젝트 명과 같은 이름의 앱이 생김 (프로젝트 앱)
- 앱은 실제 요청을 처리하고 페이지를 보여주고 하는 등의 역할을 담당
- 하나의 프로젝트는 여러 앱을 가짐
- 여러 개의 기능 단위로 나눠서 개발하기 위함
- 하나의 애플리케이션을 떼어서 다른 프로젝트에 심을 수도 있음
  - reusable app
- models.py : 장고의 구조 -> 데이터 관련...
- views.py : 장고의 구조 -> 조작...
- 생성한 앱을 장고에 등록해줘야 함 (settings.py)
  - 우리가 생성한 앱을 위에 넣어주기



## 요청과 응답

### urls.py

- urlpatterns = ['a', b]
  - a : 링크에 들어감
  - b : 보통 views.py 내에 함수로 적어줌
- 모든 view는 함수 형태로 적음
  - views.index : views 안에 있는 index 함수라고 생각
  - index 함수는 항상 requests라는 변수를 가짐
  - html 파일 단위로 하는 것이 코드 보기에 좋음 
- 상태코드
  - 200 : 정상 요청
  - 404 : 잘못된 요청
- 템플릿 파일을 저장할 때
  - 앱 파일(articles) > templates 폴더 > articles 폴더 > index.html
- request URL : https://127.0.0.1:8000/
  - IP : 컴퓨터의 주소 (127.0.0.1)
  - port : 그 컴퓨터랑 프로그램이 소통하는 창구 (8000)
    - 장고는 port 번호를 따로 지정하지 않으면 8000으로 요청을 보냄
  - 도메인도 원래는 ip:port로 이루어짐

